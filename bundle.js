(()=>{"use strict";var t={28:(t,e,n)=>{n.d(e,{Z:()=>r});var s=n(81),i=n.n(s),a=n(645),o=n.n(a)()(i());o.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins&display=swap);"]),o.push([t.id,":root {\n    --bg1: #27374D;\n    --bg2: #526D82;\n    --txt1: #DDE6ED;\n    --txt2: #81a8c8;\n    height: 100%;\n}\n\n* {\n    background-color: var(--bg1);\n    color: var(--txt1);\n    font-family: Poppins, sans-serif;\n}\n\n*::placeholder {\n    color: var(--txt2);\n}\n\nbutton {\n    padding: 0.25em;\n}\n\nbutton:hover, div.task-lists > p:hover, input:hover {\n    filter: brightness(0.75);\n}\n\ninput, button, textarea, select {\n    border: none;\n    border-radius: 5px;\n    font-size: 1em;\n}\n\ntextarea {\n    resize: none;\n}\n\nol {\n    padding: 0;\n}\n\nbody {\n    display: flex;\n    margin: 0;\n    height: 100%;\n}\n\ndiv.side-bar {\n    flex-grow: 0;\n    background-color: var(--bg2);\n    padding: 1em;\n}\n\ndiv.side-bar input {\n    max-width: 10em;\n}\n\ndiv.side-bar * {\n    background-color: var(--bg2)\n}\n\ndiv.side-bar *:focus-visible, div.detailed-task *:focus-visible {\n    background-color: #2b4253;\n    outline: none;\n}\n\ndiv.task-lists > p {\n    margin: 0;\n    padding: 0.5em 0.25em;\n}\n\ndiv.new-task-list, div.new-task {\n    display: flex;\n    align-items: center;\n}\n\ndiv.new-task-list > button, div.new-task > button {\n    font-weight: 1000;\n    font-size: x-large;\n}\n\ndiv.task-list, div.detailed-task {\n    flex-grow: 1;\n    display: grid;\n    grid-template-columns: auto auto;\n    padding: 1em;\n}\n\ndiv.task-list > :nth-child(n + 3), div.detailed-task > :nth-child(n + 3) {\n    grid-column-start: span 2;\n}\n\ndiv.task-list {\n    align-self: flex-start;\n}\n\ndiv.task-list *:focus-visible {\n    outline: none;\n    background-color: #3a567c;\n}\n\ndiv.task-list > ol > div {\n    display: flex;\n    margin: 0.5em 0;\n    gap: 0.5em\n}\n\ndiv.task-list span {\n    margin-left: auto;\n}\n\ndiv.new-task {\n    display: flex;\n}\ndiv.new-task input {\n    flex: 1 1 0;\n}\n\ninput.task-list-name {\n    max-width: 15em;\n}\n\ndiv.detailed-task > button, div.task-list > button {\n    color: red;\n    padding: 5px;\n    place-self: start end;\n}\n\ndiv.detailed-task, div.detailed-task * {\n    background-color: var(--bg2);\n}\n\ndiv.detailed-task {\n    grid-template-rows: auto auto 1fr;\n    gap: 1em\n}\n\ndiv.detailed-task > div {\n    display: flex;\n    gap: 1em;\n}\n\ndiv.detailed-task > div > p {\n    margin-left: auto;\n}\n\n\ndiv.detailed-task > button {\n    color: rgb(123, 0, 0);\n}\n\ndiv.detailed-task > textarea {\n    padding: 1em;\n    box-shadow: var(--bg1) 0 0 10px;\n}\n\n.P1 > input:nth-child(2) {\n    outline: green solid;\n}\n\n.P2 > input:nth-child(2) {\n    outline: yellow solid;\n}\n\n.P3 > input:nth-child(2) {\n    outline: red solid;\n}\n\n.hidden {\n    visibility: hidden;\n}",""]);const r=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(o[d]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);s&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var a={},o=[],r=0;r<t.length;r++){var d=t[r],l=s.base?d[0]+s.base:d[0],c=a[l]||0,h="".concat(l," ").concat(c);a[l]=c+1;var u=n(h),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var k=i(p,s);s.byIndex=r,e.splice(r,0,{identifier:h,updater:k,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var r=n(a[o]);e[r].references--}for(var d=s(t,i),l=0;l<a.length;l++){var c=n(a[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=d}}},569:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var a=e[s]={id:s,exports:{}};return t[s](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{function t(t,e,n=[]){const s=document.createElement(t);for(const t in e)s.setAttribute(t,e[t]);for(const t of n)s.appendChild(t);return s}function e(t,e,n){const s=document.createElement(t);s.textContent=e;for(const t in n)s.setAttribute(t,n[t]);return s}class s{static priorityNames=["None","Low","Medium","High"];constructor(n,i,a){this.title=t("p");const o=e("button","Delete Task");o.addEventListener("click",(()=>this.onDelete())),this.date=t("input",{type:"date"}),this.date.addEventListener("change",(()=>this.onDateChange(this.date.value))),this.priority=t("select"),this.priority.addEventListener("change",(()=>this.onPriorityChange(this.priority.value)));for(const t in s.priorityNames)this.priority.appendChild(e("option",s.priorityNames[t],{value:t}));this.description=t("textarea",{placeholder:"Description..."}),this.description.addEventListener("change",(()=>this.onDescriptionChange(this.description.value))),this.root=t("div",{class:"detailed-task"},[this.title,o,t("div",{},[this.date,e("p","Priority: "),this.priority]),this.description]),this.selectedTask=null,this.notifyDateChange=n,this.notifyPriorityChange=i,this.notifyDelete=a}onTaskSelected(t){this.selectedTask=t,this.title.textContent=t.title,this.date.value=t.dueDate,this.priority.value=t.priority,this.description.value=t.description,this.root.classList.remove("hidden")}onTitleChange(){this.title.textContent=this.selectedTask.title}onDateChange(t){this.selectedTask.dueDate=t,this.notifyDateChange(this.selectedTask)}onPriorityChange(t){this.selectedTask.priority=t,this.notifyPriorityChange(this.selectedTask)}onDescriptionChange(t){this.selectedTask.description=t}onDelete(){this.notifyDelete(this.selectedTask),this.hide()}hide(){this.root.classList.add("hidden")}}const i=s,a=class{constructor(n,s,i){this.input=t("input",{placeholder:n}),this.input.addEventListener("keypress",(function(t){"Enter"===t.key&&a.click()}));const a=e("button","+");this.root=t("div",{class:s},[this.input,a]),a.addEventListener("click",(()=>{const t=this.input.value;""!=t&&(i(t),this.input.value="")}))}},o=new class{constructor(){const t=new Date;this.currentYear=t.getFullYear()+"",this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}format(t){if(""===t)return"";const[e,n,s]=t.split("-");return e===this.currentYear?`${s} ${this.months[n-1]}`:`${s} ${this.months[n-1]}, ${e}`}},r=class{constructor(n,s,i){this.task=n;const a=t("input",{type:"checkbox"});a.checked=n.isDone,a.addEventListener("change",(()=>this.onCheckboxChange(a.checked)));const o=t("input",{value:n.title});o.addEventListener("change",(()=>this.onTitleChange(o.value))),this.date=e("span"),this.onDateChange(),this.root=t("div",{},[a,o,this.date]),this.root.addEventListener("click",(()=>s(n))),this.onPriorityChange(),this.notifyTitleChange=i}onTitleChange(t){this.task.title=t,this.notifyTitleChange()}onCheckboxChange(t){this.task.isDone=t}onDateChange(){this.date.textContent=o.format(this.task.dueDate)}onPriorityChange(){this.root.className="P"+this.task.priority}onDelete(){this.root.remove()}};class d{constructor(e,n,s){this.root=t("input",{value:e,class:n}),this.root.addEventListener("change",(()=>s(this.root.value)))}}var l=n(379),c=n.n(l),h=n(795),u=n.n(h),p=n(569),k=n.n(p),v=n(565),f=n.n(v),g=n(216),m=n.n(g),y=n(589),T=n.n(y),b=n(28),L={};L.styleTagTransform=T(),L.setAttributes=f(),L.insert=k().bind(null,"head"),L.domAPI=u(),L.insertStyleElement=m(),c()(b.Z,L),b.Z&&b.Z.locals&&b.Z.locals;class C{static fromObject(t){const e=new C(t.title);return e.description=t.description,e.isDone=t.isDone,e.dueDate=t.dueDate,e.priority=t.priority,e}constructor(t){this.title=t,this.description="",this.isDone=!1,this.dueDate="",this.priority=0}}class D{static fromObject(t){const e=new D(t.title);for(const n of t.tasks)e.tasks.push(C.fromObject(n));return e}constructor(t){this.title=t,this.tasks=new Array}addTask(t){this.tasks.push(new C(t))}removeTask(t){this.tasks.splice(this.tasks.indexOf(t),1)}}class w{static fromObject(t){const e=new w;for(const n of t.taskLists)e.taskLists.push(D.fromObject(n));return e}constructor(){this.taskLists=new Array}addTaskList(t){this.taskLists.push(new D(t))}removeTaskList(t){this.taskLists.splice(this.taskLists.indexOf(t),1)}}function x(){let t;return console.log("Restoring data"),localStorage.getItem("todo-data")?t=w.fromObject(JSON.parse(localStorage.getItem("todo-data"))):(t=new w,t.addTaskList("Inbox")),console.log("Data restored"),t}let E=x();document.addEventListener("visibilitychange",(function(){"hidden"==document.visibilityState&&function(t){console.log("Saving data"),document.activeElement.dispatchEvent(new Event("change")),localStorage.setItem("todo-data",JSON.stringify(t)),console.log("Data saved")}(E),"visible"==document.visibilityState&&(E=x())}));const N=new class{constructor(n,s,i,o){this.header=new d("","task-list-name",(t=>{this.onNameChange(t)}));const r=e("button","Delete Task list");r.addEventListener("click",(()=>this.onDelete())),this.list=t("ol"),this.tasks=[],this.newTaskButton=new a("New Task...","new-task",(t=>this.onNewTask(t))),this.newTaskInput=t("input",{placeholder:"New task..."}),this.root=t("div",{class:"task-list"},[this.header.root,r,this.newTaskButton.root,this.list]),this.selectedTaskList=null,this.notifyNameChange=n,this.notifyDelete=s,this.notifyTaskSelect=i,this.notifyTitleChange=o}addTask(t){const e=new r(t,this.notifyTaskSelect,this.notifyTitleChange);this.tasks.push(e),this.list.appendChild(e.root)}onSelectTaskList(t){this.root.classList.remove("hidden"),this.selectedTaskList=t,this.header.root.value=t.title,this.list.replaceChildren(),this.tasks=[],this.newTaskButton.input.value="";for(let e of t.tasks)this.addTask(e)}onNewTask(t){null!==this.selectedTaskList&&(this.selectedTaskList.addTask(t),this.addTask(this.selectedTaskList.tasks.at(-1)))}onNameChange(t){this.selectedTaskList.title=t,this.notifyNameChange(this.selectedTaskList)}onDelete(){this.root.classList.add("hidden"),this.notifyDelete(this.selectedTaskList)}getTaskElement(t){const e=this.selectedTaskList.tasks.indexOf(t);return this.tasks[e]}onDateChange(t){this.getTaskElement(t).onDateChange()}onPriorityChange(t){this.getTaskElement(t).onPriorityChange()}onTaskDelete(t){const e=this.selectedTaskList.tasks.indexOf(t);this.tasks[e].onDelete(),this.tasks.splice(e,1),this.selectedTaskList.removeTask(t)}}((t=>{P.onTaskListNameChange(t)}),(t=>{P.onTaskListDelete(t),S.hide()}),(t=>S.onTaskSelected(t)),(()=>S.onTitleChange())),S=new i((t=>N.onDateChange(t)),(t=>N.onPriorityChange(t)),(t=>N.onTaskDelete(t))),P=new class{constructor(e,n){this.todoData=e,this.taskListsElement=t("div",{class:"task-lists"});const s=new a("New task list...","new-task-list",(t=>this.onNewTaskList(t)));this.root=t("div",{class:"side-bar"},[this.taskListsElement,s.root]);for(let t of e.taskLists)this.addTaskList(t);this.notifySelectTaskList=n,e.taskLists[0]&&this.notifySelectTaskList(e.taskLists[0])}onNewTaskList(t){this.todoData.addTaskList(t),this.addTaskList(this.todoData.taskLists.at(-1))}addTaskList(t){const n=e("p",t.title);n.addEventListener("click",(()=>this.notifySelectTaskList(t))),this.taskListsElement.appendChild(n)}onTaskListNameChange(t){const e=this.todoData.taskLists.indexOf(t);this.taskListsElement.children.item(e).textContent=t.title}onTaskListDelete(t){const e=this.todoData.taskLists.indexOf(t);this.taskListsElement.children.item(e).remove(),this.todoData.removeTaskList(t)}}(E,(t=>{N.onSelectTaskList(t),S.hide()}));document.body.appendChild(P.root),document.body.appendChild(N.root),document.body.appendChild(S.root)})()})();